services:
  postgres:
    image: postgres
    container_name: postgres
    hostname: postgres
    env_file:
      - ./postgresql/postgresql.env
    volumes:
      - pg-data:/var/lib/postgresql/data

  node-api:
    image: node-api
    container_name: node-api
    hostname: node-api
    env_file:
    - ./api-node/node-api.env
    - ./postgresql/postgresql.env
    ports:
      - 3000:3000
    depends_on:
      - postgres

  angular-front:
    image: angular-front
    container_name: angular-front
    hostname: angular-front
    # env_file:
    #   - ./api/node-api.env
    #   - ./front-angular/front-angular.env
    ports:
      - 4200:80
    depends_on:
      - node-api

volumes:
  pg-data:
    external: true